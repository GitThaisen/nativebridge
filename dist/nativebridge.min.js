!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.nativebridge=t():e.nativebridge=t()}(window,function(){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o(o.s=0)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.on=f,t.off=u,t.once=c,t.emit=a,t.validateRpcInput=d,t.rpc=function(e){var t=e.topic,o=e.data,n=e.resolve,i=e.reject,f=e.timeout,u=void 0===f?r:f;try{d({topic:t,resolve:n,reject:i,data:o,timeout:u});var s=!1,p=setTimeout(function(){s=!0,i(new Error("RPC for "+t+" using "+o+" timed out after "+u+"ms"))},u);c(t,function(e){clearTimeout(p),e.errors?i(new Error(JSON.stringify(e.errors))):s||n(e)}),a(t,o)}catch(e){i(e)}},t.setupNativeLink=p,t.destroy=function(){Object.keys(i).forEach(function(e){Object.keys(i[e]).forEach(function(t){delete i[e][t]}),delete i[e]}),"undefined"!=typeof window&&window.removeEventListener("nativebridge",s)};var r=1e3,i=t.events={};function f(e,t){if("string"!=typeof e)throw new Error("topic must be a string");if("function"!=typeof t)throw new Error("Handler must be of topic function");(i[e]=i[e]||[]).push(t)}function u(e,t){if("string"!=typeof e)throw new Error("topic must be a string");i[e]=(i[e]||[]).filter(function(e){return t&&e!==t}),0===i[e].length&&delete i[e]}function c(e,t){if("string"!=typeof e)throw new Error("type must be a string");if("function"!=typeof t)throw new Error("Handler must be of type function");f(e,function o(){u(e,o),t.apply(void 0,arguments)})}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(window.webkit&&window.webkit.messageHandlers)window.webkit.messageHandlers.nativebridgeiOS.postMessage({topic:e,data:t});else{if(!window.NativeBridgeAndroid)throw new Error("No native bridge defined");window.NativeBridgeAndroid.send(JSON.stringify({topic:e,data:t}))}}function d(e){var t=e.topic,o=e.data,r=e.resolve,i=e.reject,f=e.timeout;if("string"!=typeof t)throw TypeError("topic argument must be a String");if(null===o||"object"!==(void 0===o?"undefined":n(o)))throw TypeError("data argument must be an Object");if("function"!=typeof r)throw new TypeError("resolve must be a function");if("function"!=typeof i)throw new TypeError("resolve must be a function");if("number"!=typeof f)throw new TypeError("timeout must be a number");return!0}function s(e){var t=e.detail,o=t.topic,n=t.data;(i[o]||[]).forEach(function(e){return e(n)})}function p(){window.addEventListener("nativebridge",s)}"undefined"!=typeof window&&p()}])});
//# sourceMappingURL=nativebridge.min.js.map